


<app-appc>
  <div class="container-fluid page">
    <div class="d-flex page__box p-3 mt-2">
      <span class="page__box-title" style="color: rgb(243, 243, 243)"
        >Profile</span
      >
    </div>

    <div class="page__content shadow p-3">
      <div class="main-content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-8">
              <mat-card>
                <mat-card-header class="mat-card-header-danger">
                  <mat-card-title style="color: rgb(46, 15, 201)" >Edit Profile</mat-card-title>
                  <mat-card-subtitle style="color: rgb(82, 77, 77)">Complete your profile</mat-card-subtitle>
                </mat-card-header>
            <br>
               <div *ngIf="showSuccessMessage" class="success-message">
                    Profil a été modifiée avec succès
                  </div>
                <mat-card-content>
               
                  <form (ngSubmit)="onUpdateProfile()">
                    <div class="row">
                      <div class="col-md-5">
                        <mat-form-field class="example-full-width">
                          <input
                            matInput
                            placeholder="Role (disabled)"  

                            [value]="currentUser.role" 
                            disabled
                          />
                        </mat-form-field>
                      </div>
                
                      <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                          <input
                            matInput
                            placeholder="Email address"
                            type="email" [value]="currentUser.email" 
                            disabled
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                          <input
                            matInput
                            placeholder="First Name"   [(ngModel)]="modifiedUser.firstname" name="firstname"   
                            type="text" 
                          />
                          {{currentUser.firstname}}
                        </mat-form-field>
                      </div>
                      <div class="col-md-6">
                        <mat-form-field class="example-full-width">
                          <input matInput placeholder="Last Name"  [(ngModel)]="modifiedUser.lastname" name="lastname" type="text"    />
                          {{currentUser.lastname}}
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <mat-form-field class="example-full-width">
                          <input matInput placeholder="Address"    [(ngModel)]="modifiedUser.adresse"  name="adresse" type="text"   /> 
                          {{currentUser.adresse}}
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                          <input matInput placeholder="Password"   [value]="currentUser.password"  type="password" disabled    />
                        </mat-form-field>
                      </div>
                      <div class="col-md-4">
                        <mat-form-field class="example-full-width">
                          <input matInput placeholder="Status" type="text"  [(ngModel)]="modifiedUser.status"   name="status"/>
                          {{currentUser.status}}
                        </mat-form-field>
                      </div>
                
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <mat-form-field class="example-full-width">
                          <textarea matInput placeholder="About Me"    [(ngModel)]="modifiedUser.description" name="description"  >
                            
                          </textarea> 
                          {{currentUser.description}}
                        </mat-form-field>
                      </div>
                    </div>

                    <button
                      mat-raised-button
                      type="submit"
                      class="mat-raised-button-danger pull-right"
                    >
                      Update Profile
                    </button>
                    <div class="clearfix"></div>
                  </form>
                </mat-card-content>
              </mat-card>
            </div>

            <div class="col-md-4">
              <mat-card>
                <mat-card-header>
                  <div mat-card-avatar>
                    <img src="/assets/profile.png" style="width: 50px; height: 50px;" />

                  </div>
                  <mat-card-title style="color: rgb(43, 29, 233)" >{{currentUser.firstname }}{{currentUser.lastname }}</mat-card-title>
                  <mat-card-subtitle> {{currentUser.status }}</mat-card-subtitle>
                </mat-card-header>
                <mat-card-content>
                  <h5>
                    {{currentUser.description }}
                  </h5>
                </mat-card-content>
                <mat-card-actions>
                  <button mat-button color="warn"> Message</button>
                </mat-card-actions>
              </mat-card>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-appc>
